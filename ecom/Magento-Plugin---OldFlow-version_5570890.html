<!DOCTYPE html>
<html>
    <head>
        <title>Resurs Bank e-Commerce Platform : Magento Plugin - OldFlow version</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Resurs Bank e-Commerce Platform</a></span>
                            </li>
                                                    <li>
                                <span><a href="The-Resurs-Bank-E-Commerce-Platform_327701.html">The Resurs Bank E-Commerce Platform</a></span>
                            </li>
                                                    <li>
                                <span><a href="Platform-Plugins_1476269.html">Platform Plugins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Magento-modules_1476277.html">Magento modules</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Resurs Bank e-Commerce Platform : Magento Plugin - OldFlow version
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Thomas Tornevall</span>, last modified by <span class='editor'> Benny</span> on 2017-02-20
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>The &quot;OldFlow version&quot; is a plugin for Magento CE 1.7-1.9.2 that works with Resurs Bank deprecated flow. This page covers information about that plugin, features and installation instructions.</p><p> </p><div><h2 id="MagentoPluginOldFlowversion-CheckoutCompatibility">Checkout Compatibility</h2><ul><li>Standard checkout (This is what we call &quot;Vanilla&quot;)</li><li><a href="http://templates-master.com/" class="external-link" rel="nofollow">Templates master</a> Fire Checkout</li><li><a href="http://www.onestepcheckout.com/" class="external-link" rel="nofollow">One step checkout</a></li></ul><h2 id="MagentoPluginOldFlowversion-Features">Features</h2><ul><li><p>Merchant can configure dynamic Resurs Bank payment methods from Backend</p></li><li><p>Extension will display dynamic Resurs Bank payment methods pulled from Resurs Bank Server.</p></li><li><p>Extension will fetch customer address via API and update their cart billing address if a customer is from Sweden.</p></li><li><p>Extension is compatible with the standard Magento Checkout, <a href="http://firecheckout.com/" class="external-link" rel="nofollow">Firecheckout</a> third party extension and <a href="http://www.onestepcheckout.com/" class="external-link" rel="nofollow">OneStepCheckout</a> third party extension.</p></li><li><p>Merchant can configure additional &quot;Payment Fee&quot; to each payment method.</p></li><li><p>The Invoice Fee rate can be applied to all the payment methods.</p></li><li><p>Customized Payment description can be added to each payment method by Merchant from back end</p></li><li><p>This extension supports five languages – English, Danish, Finnish, Norwegian and Swedish</p></li><li><p>Bundled product support</p></li><li><p>Multiple webshops (scopes)</p></li><li><p>Flow for finalize, annul, credit from Magento instead of Betalningsadmin/Payment admin (Read more about this at <a href="3441540.html">Magento: Finalize-, credit- and annulpayment details (v1.3.8.1)</a>)</p></li></ul><p> </p><div><h2 id="MagentoPluginOldFlowversion-Currentflow">Current flow</h2><p>Magento uses Resurs' <a href="https://test.resurs.com/docs/display/DD/Shop+Flow+Chart">deprecated flow</a>, be sure to understand this. Also read about the <a href="Concepts-and-Domain_950279.html">concepts and domain</a>, order status FROZEN and its handling are important in the fraud and order concept.</p></div><h2 id="MagentoPluginOldFlowversion-Installation(PackageContent)">Installation (Package Content)</h2></div><p> </p><div class="confluence-information-macro confluence-information-macro-warning"><p class="title conf-macro-render">Installation notes, error logging and development</p><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><strong>Important installation and development notices has moved to a separate page:</strong></p><p>Have a look at &quot;<a href="4653139.html">Release- and installation notes, error logging and development for Magento OldFlow</a>&quot;, since many problems that may occur due to Magento internal routines, configuration, bugs, etc, can be solved by reading there.</p></div></div><p> </p><p>The ZIP archive package will have the content below:<br/>The extension archive file named <strong>Resursbank-X.X.X.tgz</strong> and patches are located in the patch-path.<br/>This can be installed directly using Magento Connect option in back end (which is recommended since we do not support manual installations). However, the plugin does also work, even if the plugin has been installed manually.<br/>After installation, give write permissions to this Resurs Bank Payment extension directory:<br/>/patch directory</p><div class="confluence-information-macro confluence-information-macro-warning"><p class="title conf-macro-render">Patch checkout files</p><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>All the necessary steps have been taken in order to bring all functionalities without core modification but using overriding features into the extension. However several of the items were not able to implement via override as they were from third party extensions. They must be patched.</p><p>Back up the original files of those extensions (OneStepCheckout and FireCheckout) and then choose one of the checkouts below to see how to patch them. Due to licensing, we will not distribute full content of the files, just the code for the patch.</p><ol><li>OneStepCheckout: See <a href="Manually-patching-Onestep-checkout_3440861.html">Manually patching Onestep checkout</a></li><li>FireCheckout: See <a href="Manually-patching-Firecheckout_3440805.html">Manually patching Firecheckout</a></li></ol></div></div><p>.</p><p><span><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" draggable="false" src="attachments/1476277/2818058.png" data-image-src="attachments/1476277/2818058.png" data-unresolved-comment-count="0" data-linked-resource-id="2818058" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="magentoconnect.png" data-base-url="https://test.resurs.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="1476277" data-linked-resource-container-version="183" alt=""></span><br/></span></p><p>This extension can be seamlessly installed (and should) as a Magento extension through Magento Connect (recommended). It can also be installed manually but we do not officially support this, since you are responsible yourself for setting up all file permissions correctly, etc</p><ul><li>Extract the extension archive file under the root directory,</li><li>Click overwrite option to yes, </li><li>Now the extension has been installed successfully. </li><li>After manual installation, the first time the website may take some time for loading of the extension as it needs to set up database tables and all other default configurations. </li><li>After installation, provide proper write permissions to this Resurs Bank Extension directory. </li><li>Then clear Magento and Browser Cache once from back end.</li></ul><h3 id="MagentoPluginOldFlowversion-Upgrade">Upgrade</h3><p>Since no files can be overwritten, these steps has to be done on upgrading/reinstallation of the plugin, if using Magento Connect Manager. <em>See Package Content above for other details about patches</em></p><ul><li>Uninstall Resurs Bank plugin</li><li>Check if there are any files left in app/code/local/Resursbank (this path must be removed, and usually is if the uninstall works properly all the way)</li><li>Now, upload the plugin through &quot;Magento Connect Manager&quot;</li></ul><h2 id="MagentoPluginOldFlowversion-SettingsandConfigurations">Settings and Configurations</h2><p>The following are the admin settings in the Resurs Bank Magento Extension that are required to configure by Merchant/ Admin.</p><p><em><span>Those settings can be accessed from Back end System -&gt; Configuration -&gt; Payment Methods</span></em></p><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Setting</th><th class="confluenceTh">Description</th></tr><tr><td colspan="2" class="confluenceTd"><strong><em>Section - Common settings</em></strong></td></tr><tr><td colspan="1" class="confluenceTd">Server</td><td colspan="1" class="confluenceTd">Select the payment environment whether &quot;Test&quot; or &quot;Live&quot; mode. <br/>Server URLs are dynamically configured with the two form fields for production and test.</td></tr><tr><td class="confluenceTd">BaseURL Live/Test</td><td class="confluenceTd">Base URLs for our production- and test environment</td></tr><tr><td colspan="1" class="confluenceTd">Activated countries</td><td colspan="1" class="confluenceTd">Select the country to which this payment method should be available</td></tr><tr><td colspan="1" class="confluenceTd">Payment fee tax class</td><td colspan="1" class="confluenceTd">The fee rates that should be applicable for payment method fee</td></tr><tr><td colspan="1" class="confluenceTd">New order status</td><td colspan="1" class="confluenceTd">Select the new order status that should be applicable for all new orders through this Payment gateway</td></tr><tr><td colspan="1" class="confluenceTd">Status for orders that will not be accepted</td><td colspan="1" class="confluenceTd">Select the not accepted order status that should be applicable for all Not accepted or failed orders through this Payment gateway</td></tr><tr><td colspan="1" class="confluenceTd">Freeze status</td><td colspan="1" class="confluenceTd">The status for an order that is frozen.</td></tr><tr><td colspan="1" class="confluenceTd">Unfreeze/thaw status</td><td colspan="1" class="confluenceTd">Status that an order will be set to, when it's granted</td></tr><tr><td colspan="1" class="confluenceTd">Annulment order status</td><td colspan="1" class="confluenceTd">Order status to use on annulments (Normally &quot;Canceled&quot; could be used here)</td></tr><tr><td colspan="1" class="confluenceTd">Pending payment status</td><td colspan="1" class="confluenceTd">Select the pending payment status that should be applicable for all Pending orders through this Payment gateway</td></tr><tr><td colspan="1" class="confluenceTd">Signing status</td><td colspan="1" class="confluenceTd">A status for an order that are waiting for signing (normally used for credit cards). If this status is the last in order view, it will indicate that the customer has not fully completed an order.</td></tr><tr><td colspan="1" class="confluenceTd">Redirect location in Magento when signing fails</td><td colspan="1" class="confluenceTd">When signing fails a redirect call is being made. Normally the customer will be thrown back to the shopping cart, but sometimes merchants prefer to send the customer back to the payment-method section</td></tr><tr><td colspan="1" class="confluenceTd">Custom error text message</td><td colspan="1" class="confluenceTd">A custom error message when errors occur during order failures or cancellations</td></tr><tr><td colspan="2" class="confluenceTd"><strong><em>API</em></strong></td></tr><tr><td colspan="1" class="confluenceTd">How to handle paymentspecs<br/>(Experimental setting! <span style="color: rgb(47,47,47);">Only change this if you know what you are doing)</span></td><td colspan="1" class="confluenceTd"><p>This configuration value sets how the plugin should behave when sending information about the order to paymentadmin (speclines).<br/><br/></p><ul><li>The normal behaviour (Regular flow) is to send each product, as is. This means that the plugin will not check bundled packages and its content, and the primary article is sent as specline.</li><li>The second behaviour (Adding products from bundles into speclines) will analyze bundled packages and send each article in a bundle through the flow<br/><strong>Warning</strong>: Finalize/creditpayment/annulpayment is not supported in this mode)</li></ul></td></tr><tr><td colspan="1" class="confluenceTd">Automatic finalizations, credits and annulments</td><td colspan="1" class="confluenceTd">Activates finalizing of orders. Default is disabled. Finalizing is normally made from backend, but when it comes to orders containing items that cannot ship from Magento, finalizing will occur immediately when the customer chooses to place an order (and only if the order contains non-shippable items).</td></tr><tr><td colspan="1" class="confluenceTd">Invoice numbering on debits, credits and annulments</td><td colspan="1" class="confluenceTd">The only option for the moment is <em>Let Resurs Bank handle invoice numbers</em>, meaning that finalizing an order will use Resurs Bank invoice ID's rather than Magentos internal.</td></tr><tr><td colspan="2" class="confluenceTd"><em><strong>Store Credentials</strong></em></td></tr><tr><td colspan="1" class="confluenceTd">Customer / Representative ID</td><td colspan="1" class="confluenceTd">The Resurs Bank Merchant ID gotten from Resurs Bank </td></tr><tr><td colspan="1" class="confluenceTd">Customer / Representative Password</td><td colspan="1" class="confluenceTd">Resurs Bank Merchant Password</td></tr><tr><td colspan="2" class="confluenceTd"><em><strong>Payment method settings (The following are the settings that will be listed for each payment method that are available for this Merchant)</strong></em></td></tr><tr><td colspan="1" class="confluenceTd">Payment method status</td><td colspan="1" class="confluenceTd">Enable or Disable the payment method</td></tr><tr><td colspan="1" class="confluenceTd">Title</td><td colspan="1" class="confluenceTd">Payment title that should be displayed for customer in checkout page</td></tr><tr><td colspan="1" class="confluenceTd">Sort order</td><td colspan="1" class="confluenceTd">Payment method display order in the front end.</td></tr><tr><td colspan="1" class="confluenceTd">Payment method logotype</td><td colspan="1" class="confluenceTd">Defines what logotype the payment method should have in a checkout. If no URI is given here, a default logotype will be used</td></tr><tr><td colspan="1" class="confluenceTd">Payment fee</td><td colspan="1" class="confluenceTd">Payment fee to each method can be set here for this specific Payment method.</td></tr><tr><td colspan="1" class="confluenceTd">Payment fee description</td><td colspan="1" class="confluenceTd">This value will be sent to Resurs Bank API Payment fee product line.</td></tr><tr><td colspan="1" class="confluenceTd">Payment method description</td><td colspan="1" class="confluenceTd">This value will be displayed in the front end under each payment method.</td></tr></tbody></table></div><h2 id="MagentoPluginOldFlowversion-Updatingpaymentmethods"><br/>Updating payment methods</h2><p>Updating payment methods in a multi-channel store (a store with multiple shops) should always be done in the top level of the store (using &quot;website name&quot;), since settings are inherited through the scopes. To completely save payment methods, you also have to save settings after updating them. Since version 1.2.8, salt keys for the callbacks are updated each time an update or a save occurs.</p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" draggable="false" src="attachments/1476277/3801106.png" data-image-src="attachments/1476277/3801106.png" data-unresolved-comment-count="0" data-linked-resource-id="3801106" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2014-9-22 8:13:17.png" data-base-url="https://test.resurs.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="1476277" data-linked-resource-container-version="183" alt=""></span><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" draggable="false" src="attachments/1476277/3801107.png" data-image-src="attachments/1476277/3801107.png" data-unresolved-comment-count="0" data-linked-resource-id="3801107" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2014-9-22 8:13:52.png" data-base-url="https://test.resurs.com/docs" data-linked-resource-content-type="image/png" data-linked-resource-container-id="1476277" data-linked-resource-container-version="183" alt=""></span></p><h2 id="MagentoPluginOldFlowversion-UpdatingthebaseURLandcallbacks"><span>Updating the base URL and callbacks</span></h2><p><span>If you for some reason change the base URL you must reload and save the payment methods again, this is so the plugin will re-register the callbacks with the new URL.</span></p>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on 2024-02-01 10:49</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
